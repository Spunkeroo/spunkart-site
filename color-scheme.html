<!DOCTYPE html>
<html lang="en">
<head>
<!-- Copyright 2026 SpunkArt.com. All rights reserved. Unauthorized reproduction prohibited. hello@spunkart.com -->
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Color Scheme Generator — Beautiful Palettes for Your Website | SPUNKART.COM</title>
<meta name="description" content="Generate harmonious color schemes using color theory. Pick a base color and get complementary, analogous, triadic, split-complementary, monochromatic, and tetradic palettes with live website previews.">
<meta property="og:title" content="Color Scheme Generator — Beautiful Palettes for Your Website">
<meta property="og:description" content="Generate harmonious color schemes using color theory. Live website mockup previews, accessibility contrast checks, and one-click CSS export.">
<meta property="og:image" content="https://spunkart.com/assets/og-color-scheme.png">
<meta property="og:url" content="https://spunkart.com/color-scheme.html">
<meta property="og:type" content="website">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@SpunkArt13">
<meta name="twitter:creator" content="@SpunkArt13">
<meta name="twitter:title" content="Color Scheme Generator — Beautiful Palettes for Your Website">
<meta name="twitter:description" content="Generate harmonious color schemes using color theory. Free tool by SPUNKART.COM">
<link rel="canonical" href="https://spunkart.com/color-scheme.html">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-GVNL11PEGP"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js',new Date());gtag('config','G-GVNL11PEGP');</script>
<meta name="author" content="SpunkArt.com">
<meta name="copyright" content="Copyright 2026 SpunkArt.com. All rights reserved.">
<script type="application/ld+json">{"@context":"https://schema.org","@type":"WebApplication","name":"Color Scheme Generator","description":"Generate harmonious color schemes using color theory. Pick a base color and get complementary, analogous, triadic, split-complementary, monochromatic, and tetradic palettes with live website previews.","url":"https://spunkart.com/color-scheme.html","applicationCategory":"DesignApplication","operatingSystem":"Any","offers":{"@type":"Offer","price":"0","priceCurrency":"USD"},"author":{"@type":"Organization","name":"SpunkArt","url":"https://spunkart.com"},"featureList":["Complementary color schemes","Analogous color schemes","Triadic color schemes","Split-complementary color schemes","Monochromatic color schemes","Tetradic color schemes","Live website mockup preview","Accessibility contrast checker","CSS variable export","Palette image export"]}</script>
<style>
*{margin:0;padding:0;box-sizing:border-box;}
body{background:#0a0a0a;color:#e8e8e8;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;line-height:1.6;min-height:100vh;display:flex;flex-direction:column;}
a{color:#ff5f1f;text-decoration:none;}a:hover{text-decoration:underline;}
nav{background:#111;border-bottom:1px solid #222;padding:12px 24px;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:8px;}
nav .logo{font-weight:800;font-size:1.1rem;color:#ff5f1f;letter-spacing:1px;}
nav .links{display:flex;gap:20px;font-size:0.9rem;}
nav .links a{color:#ccc;}nav .links a:hover{color:#ff5f1f;}

main{flex:1;max-width:1100px;width:100%;margin:0 auto;padding:32px 20px 80px;}
h1{font-size:2rem;margin-bottom:8px;color:#fff;}
h2{font-size:1.3rem;color:#fff;margin-bottom:12px;}
h3{font-size:1rem;color:#fff;margin-bottom:8px;}
.subtitle{color:#999;margin-bottom:24px;font-size:1rem;}

.usage-badge{display:inline-flex;align-items:center;gap:6px;background:#1a1a1a;border:1px solid #333;border-radius:20px;padding:4px 12px;font-size:0.75rem;color:#ff5f1f;font-weight:600;margin-bottom:1rem;}

/* Controls */
.controls-section{display:flex;gap:16px;flex-wrap:wrap;align-items:flex-end;margin-bottom:28px;background:#111;border:1px solid #222;border-radius:12px;padding:20px;}
.control-group{display:flex;flex-direction:column;gap:6px;}
.control-group label{font-size:0.8rem;color:#999;text-transform:uppercase;letter-spacing:0.5px;font-weight:600;}
.color-picker-wrap{display:flex;align-items:center;gap:10px;}
.color-picker-wrap input[type="color"]{width:52px;height:42px;border:2px solid #333;border-radius:8px;background:#0a0a0a;cursor:pointer;padding:2px;}
.color-picker-wrap input[type="color"]::-webkit-color-swatch-wrapper{padding:2px;}
.color-picker-wrap input[type="color"]::-webkit-color-swatch{border-radius:4px;border:none;}
.hex-input{background:#1a1a1a;border:1px solid #333;color:#e8e8e8;padding:10px 12px;border-radius:8px;font-size:0.95rem;width:110px;font-family:monospace;}
.hex-input:focus{border-color:#ff5f1f;outline:none;}

.scheme-btns{display:flex;gap:8px;flex-wrap:wrap;}
.scheme-btn{background:#222;color:#ccc;border:none;padding:8px 16px;border-radius:20px;font-size:0.82rem;cursor:pointer;transition:all 0.2s;font-weight:500;}
.scheme-btn:hover,.scheme-btn.active{background:#ff5f1f;color:#fff;}

button.generate-btn{background:#ff5f1f;color:#fff;border:none;padding:12px 28px;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:background 0.2s;white-space:nowrap;}
button.generate-btn:hover{background:#e5520f;}
.random-btn{background:#222 !important;color:#ccc !important;padding:10px 16px !important;font-size:0.85rem !important;border-radius:8px !important;border:1px solid #333 !important;}
.random-btn:hover{background:#333 !important;color:#fff !important;}

/* Palette Swatches */
.palette-row{display:flex;border-radius:12px;overflow:hidden;margin-bottom:24px;min-height:120px;}
.swatch{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:16px 8px;cursor:pointer;transition:flex 0.3s;position:relative;gap:6px;}
.swatch:hover{flex:1.4;}
.swatch .hex-label{background:rgba(0,0,0,0.55);color:#fff;padding:3px 8px;border-radius:5px;font-size:0.8rem;font-weight:700;letter-spacing:0.5px;backdrop-filter:blur(4px);}
.swatch .format-labels{display:flex;flex-direction:column;gap:2px;align-items:center;}
.swatch .fmt{font-size:0.65rem;color:rgba(255,255,255,0.7);background:rgba(0,0,0,0.4);padding:1px 6px;border-radius:3px;backdrop-filter:blur(4px);cursor:pointer;}
.swatch .fmt:hover{background:rgba(255,95,31,0.7);color:#fff;}
.swatch .copied-toast{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background:rgba(0,0,0,0.85);color:#10b981;padding:8px 16px;border-radius:8px;font-weight:700;font-size:0.85rem;opacity:0;transition:opacity 0.3s;pointer-events:none;}
.swatch .copied-toast.show{opacity:1;}
.swatch-role{font-size:0.6rem;color:rgba(255,255,255,0.5);background:rgba(0,0,0,0.3);padding:1px 6px;border-radius:3px;text-transform:uppercase;letter-spacing:0.5px;}

/* Website Mockup */
.mockup-section{margin-bottom:32px;}
.mockup-frame{border:1px solid #333;border-radius:12px;overflow:hidden;background:#1a1a1a;}
.mockup-browser-bar{background:#222;padding:8px 16px;display:flex;align-items:center;gap:8px;border-bottom:1px solid #333;}
.mockup-dot{width:10px;height:10px;border-radius:50%;display:inline-block;}
.mockup-url{background:#1a1a1a;border-radius:4px;padding:3px 12px;font-size:0.7rem;color:#666;flex:1;margin-left:8px;}
.mockup-body{padding:0;}

.mockup-nav{padding:12px 20px;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid rgba(255,255,255,0.1);}
.mockup-nav .mn-logo{font-weight:800;font-size:0.85rem;}
.mockup-nav .mn-links{display:flex;gap:14px;font-size:0.72rem;}
.mockup-nav .mn-links span{cursor:default;opacity:0.8;}

.mockup-hero{padding:40px 20px;text-align:center;}
.mockup-hero h2{font-size:1.3rem;margin-bottom:8px;}
.mockup-hero p{font-size:0.8rem;opacity:0.8;margin-bottom:16px;max-width:400px;margin-left:auto;margin-right:auto;}
.mockup-hero .hero-btn{display:inline-block;padding:10px 24px;border-radius:6px;font-weight:700;font-size:0.8rem;text-decoration:none;border:none;cursor:default;}

.mockup-cards{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;padding:20px;}
.mockup-card{border-radius:8px;padding:16px;text-align:center;}
.mockup-card .card-icon{font-size:1.4rem;margin-bottom:6px;}
.mockup-card h4{font-size:0.75rem;margin-bottom:4px;}
.mockup-card p{font-size:0.65rem;opacity:0.7;}

.mockup-footer{padding:12px 20px;text-align:center;font-size:0.65rem;border-top:1px solid rgba(255,255,255,0.1);}

/* Accessibility */
.a11y-section{margin-bottom:32px;}
.a11y-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:10px;}
.a11y-card{background:#111;border:1px solid #222;border-radius:8px;padding:12px;display:flex;align-items:center;gap:12px;}
.a11y-preview{width:48px;height:48px;border-radius:6px;display:flex;align-items:center;justify-content:center;font-weight:800;font-size:0.8rem;flex-shrink:0;}
.a11y-info{flex:1;font-size:0.78rem;}
.a11y-ratio{font-weight:700;}
.a11y-pass{color:#10b981;}
.a11y-fail{color:#ef4444;}
.a11y-warn{color:#f59e0b;}
.a11y-badges{display:flex;gap:4px;margin-top:2px;flex-wrap:wrap;}
.a11y-badge{font-size:0.6rem;padding:1px 5px;border-radius:3px;font-weight:700;}
.a11y-badge.pass{background:#10b98122;color:#10b981;border:1px solid #10b98144;}
.a11y-badge.fail{background:#ef444422;color:#ef4444;border:1px solid #ef444444;}

/* Export */
.export-section{margin-bottom:32px;}
.export-grid{display:grid;grid-template-columns:1fr 1fr;gap:16px;}
.export-block{background:#111;border:1px solid #222;border-radius:10px;padding:16px;position:relative;}
.export-block h3{font-size:0.82rem;color:#ff5f1f;margin-bottom:8px;text-transform:uppercase;letter-spacing:0.5px;}
.export-block pre{background:#0d0d0d;padding:12px;border-radius:6px;font-size:0.8rem;color:#ccc;white-space:pre-wrap;overflow-x:auto;max-height:220px;}
.copy-btn{position:absolute;top:12px;right:12px;background:#333;color:#ccc;border:none;padding:5px 12px;border-radius:5px;font-size:0.72rem;cursor:pointer;}
.copy-btn:hover{background:#ff5f1f;color:#fff;}
.copy-btn.copied{background:#10b981;color:#fff;}

.export-actions{display:flex;gap:10px;margin-top:16px;flex-wrap:wrap;}
.export-actions button{background:#222;color:#ccc;border:1px solid #333;padding:10px 20px;border-radius:8px;font-size:0.85rem;cursor:pointer;font-weight:600;transition:all 0.2s;}
.export-actions button:hover{background:#ff5f1f;color:#fff;border-color:#ff5f1f;}
.export-actions button svg{vertical-align:middle;margin-right:4px;}

/* Cross sell */
.cross-sell{background:linear-gradient(135deg,#1a1a1a,#222);border:1px solid #333;border-radius:12px;padding:24px;text-align:center;margin-top:40px;}
.cross-sell h3{color:#ff5f1f;margin-bottom:8px;}.cross-sell p{color:#999;margin-bottom:16px;font-size:0.95rem;}
.cross-sell a.cta{display:inline-block;background:#ff5f1f;color:#fff;padding:12px 32px;border-radius:8px;font-weight:700;text-decoration:none;}.cross-sell a.cta:hover{background:#e5520f;text-decoration:none;}

.watermark{position:fixed;bottom:12px;right:16px;font-size:0.65rem;color:#333;font-weight:700;letter-spacing:1px;pointer-events:none;z-index:10;}

footer{background:#111;border-top:1px solid #222;padding:16px 24px;text-align:center;font-size:0.8rem;color:#555;}

/* Email bar */
.sa-email-bar{position:fixed;bottom:0;left:0;right:0;background:#111;border-top:1px solid #333;padding:12px 20px;display:flex;align-items:center;justify-content:center;gap:12px;z-index:9999;transform:translateY(100%);transition:transform 0.4s ease;flex-wrap:wrap;}
.sa-email-bar.show{transform:translateY(0);}
.sa-email-bar p{color:#ccc;font-size:0.85rem;margin:0;}
.sa-email-bar input[type="email"]{padding:8px 12px;background:#1a1a1a;border:1px solid #333;border-radius:6px;color:#e8e8e8;font-size:0.85rem;outline:none;min-width:200px;}
.sa-email-bar input[type="email"]:focus{border-color:#ff5f1f;}
.sa-email-bar button.sa-sub-btn{padding:8px 18px;background:#ff5f1f;color:#fff;border:none;border-radius:6px;font-weight:700;font-size:0.85rem;cursor:pointer;white-space:nowrap;}
.sa-email-bar button.sa-sub-btn:hover{background:#e5520f;}
.sa-email-bar button.sa-dismiss{background:none;border:none;color:#666;font-size:1.2rem;cursor:pointer;padding:0 4px;line-height:1;}
.sa-email-bar button.sa-dismiss:hover{color:#fff;}

/* Hidden canvas for export */
#exportCanvas{display:none;}

@media(max-width:768px){
  h1{font-size:1.4rem;}
  main{padding:20px 16px 60px;}
  .controls-section{flex-direction:column;align-items:stretch;}
  .scheme-btns{justify-content:center;}
  .palette-row{flex-direction:column;min-height:auto;}
  .swatch{flex:none !important;flex-direction:row;justify-content:center;gap:10px;padding:12px;}
  .swatch .format-labels{flex-direction:row;}
  .mockup-cards{grid-template-columns:1fr;}
  .export-grid{grid-template-columns:1fr;}
  .a11y-grid{grid-template-columns:1fr;}
  .mockup-hero h2{font-size:1rem;}
}
</style>
</head>
<body>
<nav>
  <a href="/" class="logo">SPUNKART.COM</a>
  <div class="links">
    <a href="/store">All Tools</a>
    <a href="/store#free-tools">Free Tools</a>
    <a href="/reseller" style="color:#10b981;font-weight:700">Resell $$</a>
    <a href="/blog">Blog</a>
  </div>
</nav>
<main>
  <h1>Color Scheme Generator</h1>
  <p class="subtitle">Generate harmonious color schemes using color theory. Pick a base color, choose a scheme type, and preview it on a live website mockup.</p>
  <div class="usage-badge" id="usageBadge">0 schemes generated</div>

  <!-- Controls -->
  <div class="controls-section">
    <div class="control-group">
      <label>Base Color</label>
      <div class="color-picker-wrap">
        <input type="color" id="baseColor" value="#ff5f1f">
        <input type="text" class="hex-input" id="hexInput" value="#ff5f1f" maxlength="7" spellcheck="false">
        <button class="generate-btn random-btn" onclick="randomBase()" title="Random base color">Shuffle</button>
      </div>
    </div>
    <div class="control-group">
      <label>Scheme Type</label>
      <div class="scheme-btns" id="schemeBtns">
        <button class="scheme-btn active" data-scheme="complementary">Complementary</button>
        <button class="scheme-btn" data-scheme="analogous">Analogous</button>
        <button class="scheme-btn" data-scheme="triadic">Triadic</button>
        <button class="scheme-btn" data-scheme="split-complementary">Split-Comp</button>
        <button class="scheme-btn" data-scheme="monochromatic">Monochromatic</button>
        <button class="scheme-btn" data-scheme="tetradic">Tetradic</button>
      </div>
    </div>
    <div class="control-group" style="margin-left:auto;">
      <label>&nbsp;</label>
      <button class="generate-btn" onclick="generateScheme()">Generate Scheme</button>
    </div>
  </div>

  <!-- Palette Swatches -->
  <div id="paletteRow" class="palette-row"></div>

  <!-- Website Mockup Preview -->
  <div class="mockup-section">
    <h2>Live Website Preview</h2>
    <div class="mockup-frame" id="mockupFrame">
      <div class="mockup-browser-bar">
        <span class="mockup-dot" style="background:#ef4444;"></span>
        <span class="mockup-dot" style="background:#f59e0b;"></span>
        <span class="mockup-dot" style="background:#10b981;"></span>
        <span class="mockup-url">yourwebsite.com</span>
      </div>
      <div class="mockup-body" id="mockupBody"></div>
    </div>
  </div>

  <!-- Accessibility Contrast Checker -->
  <div class="a11y-section">
    <h2>Accessibility Contrast Checker</h2>
    <p class="subtitle" style="margin-bottom:16px;">WCAG 2.1 contrast ratios for every color combination in your scheme.</p>
    <div class="a11y-grid" id="a11yGrid"></div>
  </div>

  <!-- Export Section -->
  <div class="export-section">
    <h2>Export Your Scheme</h2>
    <div class="export-grid">
      <div class="export-block">
        <h3>CSS Variables</h3>
        <button class="copy-btn" onclick="copyBlock('cssExport',this)">Copy</button>
        <pre id="cssExport"></pre>
      </div>
      <div class="export-block">
        <h3>Tailwind Config</h3>
        <button class="copy-btn" onclick="copyBlock('tailwindExport',this)">Copy</button>
        <pre id="tailwindExport"></pre>
      </div>
      <div class="export-block">
        <h3>SCSS Variables</h3>
        <button class="copy-btn" onclick="copyBlock('scssExport',this)">Copy</button>
        <pre id="scssExport"></pre>
      </div>
      <div class="export-block">
        <h3>JSON</h3>
        <button class="copy-btn" onclick="copyBlock('jsonExport',this)">Copy</button>
        <pre id="jsonExport"></pre>
      </div>
    </div>
    <div class="export-actions">
      <button onclick="exportAsImage()"><svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4M7 10l5 5 5-5M12 15V3"/></svg>Download as PNG</button>
      <button onclick="copyFullCSS()"><svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2"/><rect x="8" y="2" width="8" height="4" rx="1"/></svg>Copy All CSS</button>
    </div>
  </div>

  <div class="cross-sell">
    <h3>Get All 40+ Tools</h3>
    <p>Lifetime Pass ($99.99) gets every tool we build. Or <a href="/reseller" style="color:#10b981;font-weight:700">resell them all</a> under your brand from $99.</p>
    <a href="https://spunkart.com/store" class="cta">Visit the Store</a>
  </div>
</main>

<div class="watermark">SPUNKART.COM</div>

<div class="sa-email-bar" id="saEmailBar">
  <p>Like this tool? Get 30+ more free tools in your inbox.</p>
  <input type="email" id="saBarEmail" placeholder="you@email.com">
  <button class="sa-sub-btn" onclick="saSubmitEmail()">Get Early Access</button>
  <button class="sa-dismiss" onclick="saDismissBar()">&times;</button>
</div>

<footer>&copy; 2026 SPUNKART.COM &mdash; <a href="/store" style="color:#ff5f1f">Store</a> &middot; <a href="/reseller" style="color:#10b981">Reseller</a> &middot; <a href="/blog" style="color:#888">Blog</a> &middot; <a href="https://twitter.com/SpunkArt13" style="color:#888">@SpunkArt13</a></footer>

<canvas id="exportCanvas"></canvas>

<script>
/* ============================================
   COLOR SCHEME GENERATOR - SpunkArt.com
   Copyright 2026. All rights reserved.
   ============================================ */

let currentScheme = 'complementary';
let palette = [];
const schemeNames = ['primary','secondary','accent','surface','muted'];
const schemeLabels = {
  complementary: ['Base','Complement','Light Base','Dark Complement','Neutral'],
  analogous: ['Base','Warm Neighbor','Cool Neighbor','Light Accent','Neutral'],
  triadic: ['Base','Triad 2','Triad 3','Light Accent','Neutral'],
  'split-complementary': ['Base','Split 1','Split 2','Light Accent','Neutral'],
  monochromatic: ['Base','Lighter','Light','Darker','Dark'],
  tetradic: ['Base','Rect 2','Complement','Rect 4','Neutral']
};

// ---- Color Conversion Utilities ----

function hexToHSL(hex) {
  let r = parseInt(hex.slice(1,3),16)/255;
  let g = parseInt(hex.slice(3,5),16)/255;
  let b = parseInt(hex.slice(5,7),16)/255;
  const max = Math.max(r,g,b), min = Math.min(r,g,b);
  let h,s,l = (max+min)/2;
  if(max === min) { h=s=0; }
  else {
    const d = max-min;
    s = l > 0.5 ? d/(2-max-min) : d/(max+min);
    switch(max){
      case r: h=((g-b)/d+(g<b?6:0))/6; break;
      case g: h=((b-r)/d+2)/6; break;
      case b: h=((r-g)/d+4)/6; break;
    }
  }
  return { h: Math.round(h*360), s: Math.round(s*100), l: Math.round(l*100) };
}

function hslToHex(h,s,l) {
  h = ((h%360)+360)%360;
  s = Math.max(0,Math.min(100,s));
  l = Math.max(0,Math.min(100,l));
  const s1=s/100, l1=l/100;
  const a=s1*Math.min(l1,1-l1);
  const f=n=>{const k=(n+h/30)%12;const c=l1-a*Math.max(Math.min(k-3,9-k,1),-1);return Math.round(255*c).toString(16).padStart(2,'0');};
  return `#${f(0)}${f(8)}${f(4)}`;
}

function hexToRGB(hex) {
  return {
    r: parseInt(hex.slice(1,3),16),
    g: parseInt(hex.slice(3,5),16),
    b: parseInt(hex.slice(5,7),16)
  };
}

function rgbString(hex) {
  const {r,g,b} = hexToRGB(hex);
  return `rgb(${r}, ${g}, ${b})`;
}

function hslString(hex) {
  const {h,s,l} = hexToHSL(hex);
  return `hsl(${h}, ${s}%, ${l}%)`;
}

function relativeLuminance(hex) {
  let {r,g,b} = hexToRGB(hex);
  r/=255; g/=255; b/=255;
  r = r <= 0.03928 ? r/12.92 : Math.pow((r+0.055)/1.055, 2.4);
  g = g <= 0.03928 ? g/12.92 : Math.pow((g+0.055)/1.055, 2.4);
  b = b <= 0.03928 ? b/12.92 : Math.pow((b+0.055)/1.055, 2.4);
  return 0.2126*r + 0.7152*g + 0.0722*b;
}

function contrastRatio(hex1, hex2) {
  const l1 = relativeLuminance(hex1);
  const l2 = relativeLuminance(hex2);
  const lighter = Math.max(l1,l2);
  const darker = Math.min(l1,l2);
  return (lighter + 0.05)/(darker + 0.05);
}

function perceivedBrightness(hex) {
  const {r,g,b} = hexToRGB(hex);
  return (r*299 + g*587 + b*114)/1000;
}

function textColorFor(bgHex) {
  return perceivedBrightness(bgHex) > 128 ? '#111111' : '#ffffff';
}

// ---- Scheme Generation ----

function generateColors(baseHex, schemeType) {
  const {h,s,l} = hexToHSL(baseHex);
  let colors = [];

  switch(schemeType) {
    case 'complementary':
      colors = [
        baseHex,
        hslToHex((h+180)%360, s, l),
        hslToHex(h, Math.max(s-15,10), Math.min(l+30,95)),
        hslToHex((h+180)%360, Math.max(s-10,10), Math.max(l-20,10)),
        hslToHex(h, Math.max(s-50,5), l > 50 ? 25 : 80)
      ];
      break;
    case 'analogous':
      colors = [
        baseHex,
        hslToHex((h+30)%360, s, l),
        hslToHex((h-30+360)%360, s, l),
        hslToHex((h+15)%360, Math.max(s-20,10), Math.min(l+25,92)),
        hslToHex(h, Math.max(s-50,5), l > 50 ? 22 : 82)
      ];
      break;
    case 'triadic':
      colors = [
        baseHex,
        hslToHex((h+120)%360, s, l),
        hslToHex((h+240)%360, s, l),
        hslToHex((h+120)%360, Math.max(s-20,10), Math.min(l+25,92)),
        hslToHex(h, Math.max(s-50,5), l > 50 ? 22 : 82)
      ];
      break;
    case 'split-complementary':
      colors = [
        baseHex,
        hslToHex((h+150)%360, s, l),
        hslToHex((h+210)%360, s, l),
        hslToHex(h, Math.max(s-20,10), Math.min(l+28,92)),
        hslToHex(h, Math.max(s-50,5), l > 50 ? 22 : 82)
      ];
      break;
    case 'monochromatic':
      colors = [
        baseHex,
        hslToHex(h, s, Math.min(l+20,92)),
        hslToHex(h, s, Math.min(l+35,95)),
        hslToHex(h, s, Math.max(l-20,8)),
        hslToHex(h, s, Math.max(l-35,5))
      ];
      break;
    case 'tetradic':
      colors = [
        baseHex,
        hslToHex((h+90)%360, s, l),
        hslToHex((h+180)%360, s, l),
        hslToHex((h+270)%360, s, l),
        hslToHex(h, Math.max(s-50,5), l > 50 ? 22 : 82)
      ];
      break;
  }
  return colors;
}

// ---- Rendering ----

function renderPalette() {
  const labels = schemeLabels[currentScheme] || schemeLabels.complementary;
  const row = document.getElementById('paletteRow');
  row.innerHTML = palette.map((hex, i) => {
    const tc = textColorFor(hex);
    return `<div class="swatch" style="background:${hex};color:${tc}" onclick="copyColor(${i},'hex')">
      <div class="copied-toast" id="toast${i}">Copied!</div>
      <span class="swatch-role">${labels[i]}</span>
      <div class="hex-label">${hex.toUpperCase()}</div>
      <div class="format-labels">
        <span class="fmt" onclick="event.stopPropagation();copyColor(${i},'rgb')">${rgbString(hex)}</span>
        <span class="fmt" onclick="event.stopPropagation();copyColor(${i},'hsl')">${hslString(hex)}</span>
      </div>
    </div>`;
  }).join('');
}

function renderMockup() {
  const [primary, secondary, accent, surface, neutral] = palette;
  const primaryText = textColorFor(primary);
  const secondaryText = textColorFor(secondary);
  const accentText = textColorFor(accent);
  const surfaceText = textColorFor(surface);
  const neutralText = textColorFor(neutral);

  const body = document.getElementById('mockupBody');
  body.innerHTML = `
    <div class="mockup-nav" style="background:${primary};color:${primaryText}">
      <div class="mn-logo" style="color:${primaryText}">YourBrand</div>
      <div class="mn-links">
        <span style="color:${primaryText}">Home</span>
        <span style="color:${primaryText}">Features</span>
        <span style="color:${primaryText}">Pricing</span>
        <span style="color:${primaryText}">Contact</span>
      </div>
    </div>
    <div class="mockup-hero" style="background:${surface};color:${surfaceText}">
      <h2 style="color:${surfaceText}">Build Something Amazing</h2>
      <p style="color:${surfaceText};opacity:0.8">The fastest way to launch your next project with beautiful, consistent design.</p>
      <span class="hero-btn" style="background:${accent};color:${accentText}">Get Started Free</span>
    </div>
    <div class="mockup-cards" style="background:${neutral}">
      <div class="mockup-card" style="background:${surface};color:${surfaceText};border:1px solid ${primary}33">
        <div class="card-icon">&#9889;</div>
        <h4 style="color:${surfaceText}">Lightning Fast</h4>
        <p style="color:${surfaceText}">Optimized for speed and performance.</p>
      </div>
      <div class="mockup-card" style="background:${surface};color:${surfaceText};border:1px solid ${secondary}33">
        <div class="card-icon">&#128274;</div>
        <h4 style="color:${surfaceText}">Secure</h4>
        <p style="color:${surfaceText}">Enterprise-grade security built in.</p>
      </div>
      <div class="mockup-card" style="background:${surface};color:${surfaceText};border:1px solid ${accent}33">
        <div class="card-icon">&#127912;</div>
        <h4 style="color:${surfaceText}">Beautiful</h4>
        <p style="color:${surfaceText}">Stunning design out of the box.</p>
      </div>
    </div>
    <div class="mockup-footer" style="background:${primary};color:${primaryText};opacity:0.9">
      &copy; 2026 YourBrand &mdash; Built with your color scheme
    </div>
  `;
}

function renderA11y() {
  const grid = document.getElementById('a11yGrid');
  let html = '';
  const white = '#ffffff';
  const black = '#000000';
  const testPairs = [];

  // Test each palette color against white and black
  palette.forEach((hex, i) => {
    testPairs.push({ fg: white, bg: hex, label: `White on ${schemeNames[i]}` });
    testPairs.push({ fg: black, bg: hex, label: `Black on ${schemeNames[i]}` });
  });

  // Test palette colors against each other (key pairs)
  for(let i=0; i<palette.length; i++){
    for(let j=i+1; j<palette.length; j++){
      testPairs.push({ fg: palette[i], bg: palette[j], label: `${schemeNames[i]} on ${schemeNames[j]}` });
    }
  }

  testPairs.forEach(pair => {
    const ratio = contrastRatio(pair.fg, pair.bg);
    const ratioStr = ratio.toFixed(2);
    const aaLarge = ratio >= 3;
    const aaNormal = ratio >= 4.5;
    const aaaLarge = ratio >= 4.5;
    const aaaNormal = ratio >= 7;

    let statusClass = 'a11y-fail';
    if(aaNormal) statusClass = 'a11y-pass';
    else if(aaLarge) statusClass = 'a11y-warn';

    html += `<div class="a11y-card">
      <div class="a11y-preview" style="background:${pair.bg};color:${pair.fg};border:1px solid #333;">Aa</div>
      <div class="a11y-info">
        <div>${pair.label}</div>
        <div class="a11y-ratio ${statusClass}">${ratioStr}:1</div>
        <div class="a11y-badges">
          <span class="a11y-badge ${aaNormal?'pass':'fail'}">AA</span>
          <span class="a11y-badge ${aaLarge?'pass':'fail'}">AA Large</span>
          <span class="a11y-badge ${aaaNormal?'pass':'fail'}">AAA</span>
          <span class="a11y-badge ${aaaLarge?'pass':'fail'}">AAA Large</span>
        </div>
      </div>
    </div>`;
  });

  grid.innerHTML = html;
}

function renderExports() {
  const names = schemeNames;

  // CSS Variables
  document.getElementById('cssExport').textContent = `:root {\n${palette.map((h,i)=>`  --color-${names[i]}: ${h.toUpperCase()};`).join('\n')}\n}`;

  // Tailwind
  document.getElementById('tailwindExport').textContent = `module.exports = {\n  theme: {\n    extend: {\n      colors: {\n${palette.map((h,i)=>`        '${names[i]}': '${h.toUpperCase()}',`).join('\n')}\n      }\n    }\n  }\n}`;

  // SCSS
  document.getElementById('scssExport').textContent = palette.map((h,i)=>`$color-${names[i]}: ${h.toUpperCase()};`).join('\n');

  // JSON
  const jsonObj = {};
  palette.forEach((h,i) => { jsonObj[names[i]] = h.toUpperCase(); });
  document.getElementById('jsonExport').textContent = JSON.stringify(jsonObj, null, 2);
}

function renderAll() {
  renderPalette();
  renderMockup();
  renderA11y();
  renderExports();
}

// ---- Actions ----

function generateScheme() {
  const baseHex = document.getElementById('baseColor').value;
  palette = generateColors(baseHex, currentScheme);
  renderAll();
  incrementUsage();
  gtag('event','generate_scheme',{event_category:'tool_use',event_label:currentScheme});
}

function randomBase() {
  const h = Math.floor(Math.random()*360);
  const s = Math.floor(Math.random()*40+50);
  const l = Math.floor(Math.random()*30+35);
  const hex = hslToHex(h,s,l);
  document.getElementById('baseColor').value = hex;
  document.getElementById('hexInput').value = hex;
  generateScheme();
}

function copyColor(index, format) {
  let val;
  const hex = palette[index];
  switch(format) {
    case 'hex': val = hex.toUpperCase(); break;
    case 'rgb': val = rgbString(hex); break;
    case 'hsl': val = hslString(hex); break;
    default: val = hex.toUpperCase();
  }
  navigator.clipboard.writeText(val).then(() => {
    const toast = document.getElementById('toast'+index);
    toast.textContent = 'Copied ' + format.toUpperCase() + '!';
    toast.classList.add('show');
    setTimeout(() => toast.classList.remove('show'), 1200);
  });
  gtag('event','copy_color',{event_category:'tool_use',event_label:val});
}

function copyBlock(id, btn) {
  navigator.clipboard.writeText(document.getElementById(id).textContent).then(() => {
    btn.textContent = 'Copied!';
    btn.classList.add('copied');
    setTimeout(() => { btn.textContent = 'Copy'; btn.classList.remove('copied'); }, 2000);
  });
  gtag('event','copy_export',{event_category:'tool_use',event_label:id});
}

function copyFullCSS() {
  const css = document.getElementById('cssExport').textContent;
  navigator.clipboard.writeText(css).then(() => {
    const btn = event.target.closest('button');
    if(btn) { btn.textContent = 'Copied!'; setTimeout(()=>{ btn.innerHTML = '<svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2"/><rect x="8" y="2" width="8" height="4" rx="1"/></svg>Copy All CSS'; }, 2000); }
  });
}

function exportAsImage() {
  const canvas = document.getElementById('exportCanvas');
  const ctx = canvas.getContext('2d');
  const w = 1200, h = 400;
  canvas.width = w;
  canvas.height = h;
  const swatchW = w / palette.length;

  palette.forEach((hex, i) => {
    ctx.fillStyle = hex;
    ctx.fillRect(i * swatchW, 0, swatchW, h - 60);

    // Label area
    ctx.fillStyle = '#111';
    ctx.fillRect(i * swatchW, h - 60, swatchW, 60);

    // Hex text
    ctx.fillStyle = '#fff';
    ctx.font = 'bold 18px -apple-system, BlinkMacSystemFont, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText(hex.toUpperCase(), i * swatchW + swatchW/2, h - 32);

    // RGB text
    ctx.fillStyle = '#999';
    ctx.font = '12px -apple-system, sans-serif';
    ctx.fillText(rgbString(hex), i * swatchW + swatchW/2, h - 12);
  });

  // Branding
  ctx.fillStyle = '#333';
  ctx.font = '11px -apple-system, sans-serif';
  ctx.textAlign = 'right';
  ctx.fillText('spunkart.com/color-scheme', w - 16, 20);

  // Download
  const link = document.createElement('a');
  link.download = `color-scheme-${currentScheme}-${Date.now()}.png`;
  link.href = canvas.toDataURL('image/png');
  link.click();
  gtag('event','export_image',{event_category:'tool_use',event_label:currentScheme});
}

// ---- Event Listeners ----

// Color picker sync
document.getElementById('baseColor').addEventListener('input', function() {
  document.getElementById('hexInput').value = this.value;
  generateScheme();
});

document.getElementById('hexInput').addEventListener('input', function() {
  let val = this.value.trim();
  if(!val.startsWith('#')) val = '#' + val;
  if(/^#[0-9a-fA-F]{6}$/.test(val)) {
    document.getElementById('baseColor').value = val;
    generateScheme();
  }
});

document.getElementById('hexInput').addEventListener('blur', function() {
  let val = this.value.trim();
  if(!val.startsWith('#')) val = '#' + val;
  if(!/^#[0-9a-fA-F]{6}$/.test(val)) {
    this.value = document.getElementById('baseColor').value;
  }
});

// Scheme type buttons
document.querySelectorAll('.scheme-btn').forEach(btn => {
  btn.addEventListener('click', function() {
    document.querySelectorAll('.scheme-btn').forEach(b => b.classList.remove('active'));
    this.classList.add('active');
    currentScheme = this.dataset.scheme;
    generateScheme();
  });
});

// Spacebar shortcut
document.addEventListener('keydown', e => {
  if(e.code === 'Space' && e.target.tagName !== 'INPUT' && e.target.tagName !== 'TEXTAREA') {
    e.preventDefault();
    randomBase();
  }
});

// ---- Usage Counter ----
const TOOL_KEY = 'spunkart_color_scheme_uses';
const BAR_KEY = 'sa_bar_dismissed_color-scheme';
let useCount = parseInt(localStorage.getItem(TOOL_KEY)) || 0;

function updateBadge() {
  document.getElementById('usageBadge').textContent = useCount + ' scheme' + (useCount !== 1 ? 's' : '') + ' generated';
}

function incrementUsage() {
  useCount++;
  localStorage.setItem(TOOL_KEY, useCount);
  updateBadge();
  if(useCount >= 3 && !localStorage.getItem(BAR_KEY)) {
    document.getElementById('saEmailBar').classList.add('show');
  }
}

updateBadge();

// ---- Email Bar ----
window.saDismissBar = function() {
  document.getElementById('saEmailBar').classList.remove('show');
  localStorage.setItem(BAR_KEY, '1');
};

window.saSubmitEmail = function() {
  var email = document.getElementById('saBarEmail').value;
  if(!email || !email.includes('@')) { alert('Please enter a valid email.'); return; }
  localStorage.setItem('sa_subscriber_email', email);
  localStorage.setItem(BAR_KEY, '1');
  window.open('https://embeds.beehiiv.com/6831d05b-f121-4e0d-951b-16f88ddd9ec3?email=' + encodeURIComponent(email), '_blank');
  document.getElementById('saEmailBar').classList.remove('show');
  var btn = document.querySelector('.sa-sub-btn');
  btn.textContent = 'Subscribed!';
  btn.style.background = '#10b981';
  gtag('event','email_signup',{event_category:'conversion',event_label:'color_scheme'});
};

// ---- Init ----
generateScheme();
</script>

<!-- Microsoft Clarity -->
<script type="text/javascript">
(function(c,l,a,r,i,t,y){c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);})(window,document,"clarity","script","pn0x1z2y3w");
</script>

<!-- Code Protection -->
<script>
(function(){
  document.addEventListener('contextmenu',function(e){if(e.target.tagName!=='INPUT'&&e.target.tagName!=='TEXTAREA')e.preventDefault();});
  document.addEventListener('keydown',function(e){if((e.ctrlKey||e.metaKey)&&(e.key==='u'||e.key==='s')){e.preventDefault();}});
  var _0x=['constructor','return this','console','warn','Source code is protected. Contact hello@spunkart.com'];
  try{(function(){var fn=Function(_0x[1])();fn[_0x[2]][_0x[3]](_0x[4]);}());}catch(e){}
})();
</script>
</body>
</html>
