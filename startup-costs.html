<!DOCTYPE html>
<html lang="en">
<head>
<!-- Copyright 2025 SpunkArt.com. All rights reserved. Unauthorized reproduction prohibited. hello@spunkart.com -->
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Startup Cost Calculator — Estimate Your Launch Budget</title>
<meta name="description" content="Free startup cost calculator for founders. Estimate LLC, hosting, marketing, and operations costs. Get monthly burn rate, yearly totals, and a visual breakdown. No signup required.">
<meta property="og:title" content="Startup Cost Calculator — Estimate Your Launch Budget">
<meta property="og:description" content="Estimate LLC, hosting, marketing, and operations costs. Get monthly burn rate, yearly totals, and a visual breakdown. Free tool for founders.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://spunk.codes/startup-costs">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@SpunkArt13">
<meta name="twitter:title" content="Startup Cost Calculator | SPUNKART.COM">
<meta name="twitter:description" content="Free startup cost calculator. Estimate LLC, hosting, marketing & ops costs with visual breakdown. No signup.">
<link rel="canonical" href="https://spunk.codes/startup-costs">
<!-- GA4 -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-GVNL11PEGP"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js',new Date());gtag('config','G-GVNL11PEGP');</script>
<meta name="author" content="SpunkArt.com">
<meta name="copyright" content="Copyright 2025 SpunkArt.com. All rights reserved.">
<script type="application/ld+json">{"@context":"https://schema.org","@type":"WebApplication","name":"Startup Cost Calculator","description":"Free startup cost calculator for founders. Estimate legal, tech, marketing, and operations costs with monthly burn rate, yearly totals, and visual breakdown.","url":"https://spunk.codes/startup-costs","applicationCategory":"BusinessApplication","operatingSystem":"Any","offers":{"@type":"Offer","price":"0","priceCurrency":"USD"},"author":{"@type":"Organization","name":"SpunkArt","url":"https://spunk.codes"}}</script>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;background:#0a0a0a;color:#e8e8e8;min-height:100vh;display:flex;flex-direction:column;line-height:1.5}
a{color:#ff5f1f;text-decoration:none}a:hover{text-decoration:underline}
nav{background:#111;border-bottom:1px solid #222;padding:12px 24px;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:8px}
nav .logo{font-weight:800;font-size:1.1rem;color:#ff5f1f;letter-spacing:1px}
nav .links{display:flex;gap:20px;font-size:0.9rem}
nav .links a{color:#ccc}nav .links a:hover{color:#ff5f1f}
main{flex:1;max-width:1000px;width:100%;margin:0 auto;padding:2rem 1rem}
h1{font-size:1.9rem;text-align:center;margin-bottom:0.3rem;background:linear-gradient(135deg,#ff5f1f,#ff9f1f);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.sub{text-align:center;color:#666;margin-bottom:1.5rem;font-size:0.9rem}
.usage-badge-wrap{text-align:center;margin-bottom:1.2rem}
.usage-badge{display:inline-flex;align-items:center;gap:6px;background:#1a1a1a;border:1px solid #333;border-radius:20px;padding:4px 12px;font-size:0.75rem;color:#ff5f1f;font-weight:600}

/* Summary cards */
.summary-cards{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-bottom:2rem}
.summary-card{background:#141414;border:1px solid #222;border-radius:12px;padding:16px;text-align:center}
.summary-card .value{font-size:1.5rem;font-weight:800;font-variant-numeric:tabular-nums}
.summary-card .label{font-size:0.72rem;color:#666;text-transform:uppercase;letter-spacing:0.5px;margin-top:4px}
.val-green{color:#10b981}
.val-orange{color:#ff5f1f}
.val-red{color:#ef4444}
.val-white{color:#e8e8e8}

/* Section headers */
.section-title{font-size:1.15rem;font-weight:700;margin:2rem 0 1rem;color:#ccc;border-bottom:1px solid #222;padding-bottom:8px}

/* Category sections */
.category{background:#141414;border:1px solid #222;border-radius:12px;margin-bottom:16px;overflow:hidden}
.category-header{display:flex;align-items:center;justify-content:space-between;padding:16px 20px;cursor:pointer;user-select:none;transition:background 0.2s}
.category-header:hover{background:#1a1a1a}
.category-header .cat-left{display:flex;align-items:center;gap:12px}
.category-header .cat-icon{width:36px;height:36px;border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:1.1rem;flex-shrink:0}
.cat-legal .cat-icon{background:rgba(255,95,31,0.15);color:#ff5f1f}
.cat-tech .cat-icon{background:rgba(16,185,129,0.15);color:#10b981}
.cat-marketing .cat-icon{background:rgba(99,102,241,0.15);color:#6366f1}
.cat-operations .cat-icon{background:rgba(245,158,11,0.15);color:#f59e0b}
.category-header .cat-name{font-weight:700;font-size:1rem}
.category-header .cat-right{display:flex;align-items:center;gap:16px}
.category-header .cat-total{font-weight:700;font-size:1rem;font-variant-numeric:tabular-nums;color:#ff5f1f}
.category-header .cat-chevron{font-size:0.8rem;color:#555;transition:transform 0.3s}
.category.open .cat-chevron{transform:rotate(180deg)}
.category-body{max-height:0;overflow:hidden;transition:max-height 0.4s ease}
.category.open .category-body{max-height:2000px}

/* Line items */
.line-item{display:grid;grid-template-columns:1fr 130px 140px auto;gap:12px;align-items:center;padding:10px 20px;border-top:1px solid #1a1a1a}
.line-item:hover{background:#1a1a1a}
.line-item .item-name{display:flex;flex-direction:column;gap:2px}
.line-item .item-name span{font-size:0.88rem;color:#ccc}
.line-item .item-name .free-alt{font-size:0.7rem;color:#10b981}
.line-item .item-name .free-alt a{color:#10b981}
.line-item input[type="number"]{background:#0a0a0a;border:1px solid #333;border-radius:6px;padding:7px 10px;color:#e8e8e8;font-size:0.88rem;font-family:inherit;outline:none;width:100%;text-align:right;transition:border-color 0.2s;-moz-appearance:textfield}
.line-item input[type="number"]::-webkit-inner-spin-button,.line-item input[type="number"]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}
.line-item input[type="number"]:focus{border-color:#ff5f1f}
.line-item select{background:#0a0a0a;border:1px solid #333;border-radius:6px;padding:7px 8px;color:#e8e8e8;font-size:0.8rem;font-family:inherit;outline:none;cursor:pointer;-webkit-appearance:none;appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23888' d='M2 4l4 4 4-4'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 8px center;padding-right:24px;transition:border-color 0.2s}
.line-item select:focus{border-color:#ff5f1f}
.line-item select option{background:#0a0a0a;color:#e8e8e8}
.line-item .item-toggle{width:18px;height:18px;border-radius:4px;border:2px solid #444;background:transparent;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all 0.2s;flex-shrink:0;padding:0}
.line-item .item-toggle.checked{background:#ff5f1f;border-color:#ff5f1f}
.line-item .item-toggle.checked::after{content:'';display:block;width:5px;height:9px;border:solid #fff;border-width:0 2px 2px 0;transform:rotate(45deg);margin-top:-2px}
.line-item.disabled .item-name span{color:#555}
.line-item.disabled input,.line-item.disabled select{opacity:0.3;pointer-events:none}

/* Add item */
.add-item-row{padding:10px 20px;border-top:1px solid #1a1a1a}
.add-item-btn{background:none;border:1px dashed #333;border-radius:6px;padding:8px 16px;color:#666;font-size:0.82rem;cursor:pointer;font-family:inherit;transition:all 0.2s;width:100%}
.add-item-btn:hover{border-color:#ff5f1f;color:#ff5f1f}

/* Chart */
.chart-container{background:#141414;border:1px solid #222;border-radius:12px;padding:20px;margin-bottom:2rem}
.chart-container h3{font-size:0.9rem;color:#888;margin-bottom:16px;font-weight:600}
.bar-row{display:flex;align-items:center;gap:12px;margin-bottom:12px}
.bar-row .bar-label{width:100px;font-size:0.82rem;color:#888;text-align:right;flex-shrink:0}
.bar-row .bar-track{flex:1;height:28px;background:#0a0a0a;border-radius:6px;overflow:hidden;position:relative}
.bar-row .bar-fill{height:100%;border-radius:6px;transition:width 0.5s ease;display:flex;align-items:center;justify-content:flex-end;padding-right:8px;min-width:0}
.bar-row .bar-fill span{font-size:0.72rem;font-weight:700;color:#fff;white-space:nowrap}
.bar-row .bar-amount{width:90px;font-size:0.85rem;font-weight:700;font-variant-numeric:tabular-nums;color:#e8e8e8;text-align:right;flex-shrink:0}
.bar-legend{display:flex;gap:20px;justify-content:center;margin-top:16px;flex-wrap:wrap}
.bar-legend .legend-item{display:flex;align-items:center;gap:6px;font-size:0.75rem;color:#888}
.bar-legend .legend-dot{width:10px;height:10px;border-radius:3px;flex-shrink:0}

/* Actions */
.actions{display:flex;gap:8px;margin-bottom:2rem;flex-wrap:wrap}
.action-btn{padding:8px 18px;background:#222;border:1px solid #333;border-radius:8px;color:#ccc;font-size:0.82rem;cursor:pointer;font-family:inherit;transition:all 0.2s}
.action-btn:hover{border-color:#ff5f1f;color:#ff5f1f}
.action-btn.copied{border-color:#10b981;color:#10b981}

/* Breakdown table */
.table-wrap{overflow-x:auto;margin-bottom:2rem;border:1px solid #222;border-radius:12px}
table{width:100%;border-collapse:collapse;font-size:0.82rem}
thead{background:#141414;position:sticky;top:0;z-index:1}
th{padding:10px 12px;text-align:right;color:#888;font-weight:600;border-bottom:1px solid #333;font-size:0.72rem;text-transform:uppercase;letter-spacing:0.5px;white-space:nowrap}
th:first-child{text-align:left;padding-left:14px}
td{padding:8px 12px;text-align:right;font-variant-numeric:tabular-nums;color:#ccc;font-size:0.82rem}
td:first-child{text-align:left;color:#888;padding-left:14px}
tr:nth-child(even){background:#141414}
tr:nth-child(odd){background:#0a0a0a}
.cat-row{font-weight:700}
.cat-row td{color:#e8e8e8;border-top:2px solid #222;padding-top:12px}

/* Cross-sell */
.cross-sell{background:linear-gradient(135deg,#1a1a1a,#222);border:1px solid #333;border-radius:12px;padding:24px;text-align:center;margin-top:40px}
.cross-sell h3{color:#ff5f1f;margin-bottom:8px}.cross-sell p{color:#999;margin-bottom:16px;font-size:0.95rem}
.cross-sell a.cta{display:inline-block;background:#ff5f1f;color:#fff;padding:12px 32px;border-radius:8px;font-weight:700;text-decoration:none}.cross-sell a.cta:hover{background:#e5520f;text-decoration:none}

footer{background:#111;border-top:1px solid #222;padding:16px 24px;text-align:center;font-size:0.8rem;color:#555;margin-top:auto}
footer a{color:#ff5f1f}

@media(max-width:700px){
  .summary-cards{grid-template-columns:1fr 1fr}
  .line-item{grid-template-columns:1fr 100px 110px auto;gap:8px;padding:10px 12px}
  h1{font-size:1.4rem}
  .summary-card .value{font-size:1.2rem}
  .bar-row .bar-label{width:70px;font-size:0.72rem}
  .bar-row .bar-amount{width:70px;font-size:0.78rem}
}
@media(max-width:480px){
  .summary-cards{grid-template-columns:1fr}
  .line-item{grid-template-columns:1fr;gap:8px}
  .line-item .item-name{order:1}
  .line-item input[type="number"]{order:2}
  .line-item select{order:3}
  .line-item .item-toggle{order:0}
  main{padding:1rem 0.75rem}
  .category-header{padding:12px 14px}
  .category-header .cat-right{gap:10px}
}
</style>
</head>
<body>
<nav>
  <a href="/" class="logo">SPUNKART.COM</a>
  <div class="links">
    <a href="/store">All Tools</a>
  </div>
</nav>
<main>
  <h1>Startup Cost Calculator</h1>
  <div class="sub">Estimate your launch budget &mdash; legal, tech, marketing &amp; operations</div>
  <div class="usage-badge-wrap"><div class="usage-badge" id="usageBadge">0 budgets calculated</div></div>

  <!-- Summary Cards -->
  <div class="summary-cards">
    <div class="summary-card"><div class="value val-orange" id="sMonthlyCost">$0</div><div class="label">Monthly Burn Rate</div></div>
    <div class="summary-card"><div class="value val-orange" id="sYearlyCost">$0</div><div class="label">Yearly Cost</div></div>
    <div class="summary-card"><div class="value val-green" id="sOneTimeCost">$0</div><div class="label">One-Time (Launch)</div></div>
  </div>

  <!-- Category Sections -->
  <div id="categoriesContainer"></div>

  <!-- Actions -->
  <div class="section-title">Export Your Budget</div>
  <div class="actions">
    <button class="action-btn" id="btnCopyText" onclick="copyAsText()">Copy as Text</button>
    <button class="action-btn" id="btnPDF" onclick="exportPDF()">Export as PDF</button>
  </div>

  <!-- Chart -->
  <div class="section-title">Cost Breakdown by Category</div>
  <div class="chart-container">
    <h3>Monthly Costs</h3>
    <div id="barChartMonthly"></div>
    <div class="bar-legend" id="barLegend"></div>
  </div>

  <!-- Breakdown Table -->
  <div class="section-title">Full Cost Breakdown</div>
  <div class="table-wrap">
    <table>
      <thead>
        <tr>
          <th style="text-align:left">Item</th>
          <th>Cost</th>
          <th>Frequency</th>
          <th>Monthly Equiv.</th>
          <th>Yearly Equiv.</th>
        </tr>
      </thead>
      <tbody id="breakdownBody"></tbody>
    </table>
  </div>

  <!-- Cross-sell -->
  <div class="cross-sell">
    <h3>Build Your Startup Faster</h3>
    <p>Explore 100+ free tools for founders, creators, and developers.</p>
    <a href="/store" class="cta">Browse Free Tools</a>
  </div>
</main>

<footer>&copy; 2025 <a href="/">SpunkArt</a> &middot; <a href="https://x.com/SpunkArt13" target="_blank" rel="noopener">@SpunkArt13</a></footer>

<script>
/* ===== Data Model ===== */
var categories = [
  {
    id: 'legal',
    name: 'Legal & Formation',
    icon: '\u2696\uFE0F',
    cssClass: 'cat-legal',
    color: '#ff5f1f',
    items: [
      { name: 'LLC Formation', cost: 150, freq: 'one-time', enabled: true, free: null },
      { name: 'Registered Agent', cost: 120, freq: 'yearly', enabled: true, free: null },
      { name: 'Business License', cost: 75, freq: 'yearly', enabled: true, free: null },
      { name: 'Trademark Filing', cost: 350, freq: 'one-time', enabled: false, free: null },
      { name: 'Operating Agreement', cost: 0, freq: 'one-time', enabled: true, free: 'Free template \u2014 <a href="/store">SpunkArt Store</a>' },
      { name: 'EIN (IRS)', cost: 0, freq: 'one-time', enabled: true, free: 'Free from IRS.gov' },
      { name: 'Legal Consultation', cost: 200, freq: 'one-time', enabled: false, free: null }
    ]
  },
  {
    id: 'tech',
    name: 'Tech & Tools',
    icon: '\uD83D\uDCBB',
    cssClass: 'cat-tech',
    color: '#10b981',
    items: [
      { name: 'Domain Name', cost: 12, freq: 'yearly', enabled: true, free: null },
      { name: 'Web Hosting', cost: 15, freq: 'monthly', enabled: true, free: 'Free \u2014 GitHub Pages, Vercel, Netlify' },
      { name: 'Email (Google Workspace)', cost: 7, freq: 'monthly', enabled: true, free: 'Free \u2014 Zoho Mail free tier' },
      { name: 'SSL Certificate', cost: 0, freq: 'yearly', enabled: true, free: 'Free \u2014 Let\'s Encrypt' },
      { name: 'Website Builder / CMS', cost: 0, freq: 'monthly', enabled: true, free: 'Free \u2014 WordPress, HTML templates' },
      { name: 'Analytics', cost: 0, freq: 'monthly', enabled: true, free: 'Free \u2014 Google Analytics, <a href="/store">SpunkArt tools</a>' },
      { name: 'Project Management', cost: 0, freq: 'monthly', enabled: true, free: 'Free \u2014 Trello, Notion free tier' },
      { name: 'Design Tools', cost: 13, freq: 'monthly', enabled: false, free: 'Free \u2014 Canva free tier, Figma' },
      { name: 'Dev Tools / IDE', cost: 0, freq: 'monthly', enabled: true, free: 'Free \u2014 VS Code' },
      { name: 'Cloud Services (AWS/GCP)', cost: 25, freq: 'monthly', enabled: false, free: 'Free tier available for startups' }
    ]
  },
  {
    id: 'marketing',
    name: 'Marketing & Growth',
    icon: '\uD83D\uDCE3',
    cssClass: 'cat-marketing',
    color: '#6366f1',
    items: [
      { name: 'Logo Design', cost: 50, freq: 'one-time', enabled: true, free: 'Free \u2014 <a href="/store">SpunkArt logo tools</a>' },
      { name: 'Social Media Ads', cost: 200, freq: 'monthly', enabled: false, free: null },
      { name: 'Google Ads', cost: 300, freq: 'monthly', enabled: false, free: null },
      { name: 'Content Writing', cost: 0, freq: 'monthly', enabled: true, free: 'Free \u2014 DIY with AI tools' },
      { name: 'SEO Tools', cost: 0, freq: 'monthly', enabled: true, free: 'Free \u2014 Google Search Console, Ubersuggest free' },
      { name: 'Email Marketing', cost: 0, freq: 'monthly', enabled: true, free: 'Free \u2014 Mailchimp free tier, Beehiiv' },
      { name: 'Social Media Management', cost: 0, freq: 'monthly', enabled: true, free: 'Free \u2014 Buffer free tier' },
      { name: 'Business Cards', cost: 30, freq: 'one-time', enabled: false, free: null },
      { name: 'Brand Photography', cost: 150, freq: 'one-time', enabled: false, free: 'Free \u2014 Unsplash, smartphone shots' }
    ]
  },
  {
    id: 'operations',
    name: 'Operations & Admin',
    icon: '\u2699\uFE0F',
    cssClass: 'cat-operations',
    color: '#f59e0b',
    items: [
      { name: 'Business Bank Account', cost: 0, freq: 'monthly', enabled: true, free: 'Free \u2014 Mercury, Relay, Novo' },
      { name: 'Accounting Software', cost: 15, freq: 'monthly', enabled: true, free: 'Free \u2014 Wave Accounting' },
      { name: 'Business Insurance', cost: 50, freq: 'monthly', enabled: false, free: null },
      { name: 'Virtual Office / Mailbox', cost: 30, freq: 'monthly', enabled: false, free: null },
      { name: 'Coworking Space', cost: 200, freq: 'monthly', enabled: false, free: 'Free \u2014 work from home, libraries' },
      { name: 'Business Phone', cost: 10, freq: 'monthly', enabled: false, free: 'Free \u2014 Google Voice' },
      { name: 'Invoicing', cost: 0, freq: 'monthly', enabled: true, free: 'Free \u2014 Wave, PayPal invoicing' },
      { name: 'Tax Filing (Annual)', cost: 300, freq: 'yearly', enabled: true, free: null },
      { name: 'Office Supplies', cost: 50, freq: 'one-time', enabled: false, free: null }
    ]
  }
];

/* ===== Usage Counter ===== */
var USAGE_KEY = 'spunkart_startup_cost_uses';
var useCount = parseInt(localStorage.getItem(USAGE_KEY)) || 0;

function updateBadge() {
  document.getElementById('usageBadge').textContent = useCount + ' budget' + (useCount !== 1 ? 's' : '') + ' calculated';
}
updateBadge();

function incrementUsage() {
  useCount++;
  localStorage.setItem(USAGE_KEY, useCount);
  updateBadge();
}

/* ===== Formatting ===== */
function fmt(n) {
  if (Math.abs(n) >= 1000000) return '$' + (n / 1000000).toFixed(1) + 'M';
  if (Math.abs(n) >= 10000) return '$' + (n / 1000).toFixed(1) + 'K';
  return '$' + n.toLocaleString('en-US', { minimumFractionDigits: 0, maximumFractionDigits: 0 });
}
function fmtFull(n) {
  return '$' + n.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
}

/* ===== Render Categories ===== */
function renderCategories() {
  var container = document.getElementById('categoriesContainer');
  var html = '';

  for (var c = 0; c < categories.length; c++) {
    var cat = categories[c];
    html += '<div class="category open ' + cat.cssClass + '" id="cat-' + cat.id + '">';
    html += '<div class="category-header" onclick="toggleCategory(\'' + cat.id + '\')">';
    html += '<div class="cat-left"><div class="cat-icon">' + cat.icon + '</div><span class="cat-name">' + cat.name + '</span></div>';
    html += '<div class="cat-right"><span class="cat-total" id="catTotal-' + cat.id + '">$0/mo</span><span class="cat-chevron">\u25BC</span></div>';
    html += '</div>';
    html += '<div class="category-body">';

    for (var i = 0; i < cat.items.length; i++) {
      var item = cat.items[i];
      var itemId = cat.id + '-' + i;
      var disabledClass = item.enabled ? '' : ' disabled';
      html += '<div class="line-item' + disabledClass + '" id="row-' + itemId + '">';
      html += '<div class="item-name"><span>' + item.name + '</span>';
      if (item.free) {
        html += '<span class="free-alt">' + item.free + '</span>';
      }
      html += '</div>';
      html += '<input type="number" id="cost-' + itemId + '" value="' + item.cost + '" min="0" step="1" onchange="onItemChange(\'' + cat.id + '\',' + i + ')" oninput="onItemInput(\'' + cat.id + '\',' + i + ')">';
      html += '<select id="freq-' + itemId + '" onchange="onItemChange(\'' + cat.id + '\',' + i + ')">';
      html += '<option value="monthly"' + (item.freq === 'monthly' ? ' selected' : '') + '>Monthly</option>';
      html += '<option value="yearly"' + (item.freq === 'yearly' ? ' selected' : '') + '>Yearly</option>';
      html += '<option value="one-time"' + (item.freq === 'one-time' ? ' selected' : '') + '>One-time</option>';
      html += '</select>';
      html += '<button class="item-toggle' + (item.enabled ? ' checked' : '') + '" id="toggle-' + itemId + '" onclick="toggleItem(\'' + cat.id + '\',' + i + ')" title="Include/exclude this cost"></button>';
      html += '</div>';
    }

    html += '<div class="add-item-row"><button class="add-item-btn" onclick="addItem(\'' + cat.id + '\')">+ Add custom item</button></div>';
    html += '</div></div>';
  }

  container.innerHTML = html;
}

/* ===== Interactions ===== */
function toggleCategory(catId) {
  var el = document.getElementById('cat-' + catId);
  el.classList.toggle('open');
}

function toggleItem(catId, itemIndex) {
  var cat = categories.find(function(c) { return c.id === catId; });
  cat.items[itemIndex].enabled = !cat.items[itemIndex].enabled;
  var itemId = catId + '-' + itemIndex;
  var toggleEl = document.getElementById('toggle-' + itemId);
  var rowEl = document.getElementById('row-' + itemId);

  if (cat.items[itemIndex].enabled) {
    toggleEl.classList.add('checked');
    rowEl.classList.remove('disabled');
  } else {
    toggleEl.classList.remove('checked');
    rowEl.classList.add('disabled');
  }
  recalculate();
}

var inputDebounce;
function onItemInput(catId, itemIndex) {
  clearTimeout(inputDebounce);
  inputDebounce = setTimeout(function() {
    syncItemData(catId, itemIndex);
    recalculate();
  }, 150);
}

function onItemChange(catId, itemIndex) {
  syncItemData(catId, itemIndex);
  recalculate();
}

function syncItemData(catId, itemIndex) {
  var itemId = catId + '-' + itemIndex;
  var cat = categories.find(function(c) { return c.id === catId; });
  cat.items[itemIndex].cost = parseFloat(document.getElementById('cost-' + itemId).value) || 0;
  cat.items[itemIndex].freq = document.getElementById('freq-' + itemId).value;
}

function addItem(catId) {
  var cat = categories.find(function(c) { return c.id === catId; });
  var newIndex = cat.items.length;
  cat.items.push({ name: 'Custom Item', cost: 0, freq: 'monthly', enabled: true, free: null });
  renderCategories();
  recalculate();
  /* Focus the new input */
  var newId = catId + '-' + newIndex;
  var costInput = document.getElementById('cost-' + newId);
  if (costInput) costInput.focus();
}

/* ===== Calculations ===== */
function getMonthlyEquiv(cost, freq) {
  if (freq === 'monthly') return cost;
  if (freq === 'yearly') return cost / 12;
  return 0; /* one-time not included in monthly */
}

function getYearlyEquiv(cost, freq) {
  if (freq === 'monthly') return cost * 12;
  if (freq === 'yearly') return cost;
  return cost; /* one-time counted once */
}

function recalculate() {
  var totalMonthly = 0;
  var totalYearly = 0;
  var totalOneTime = 0;
  var catTotals = {};

  for (var c = 0; c < categories.length; c++) {
    var cat = categories[c];
    var catMonthly = 0;

    for (var i = 0; i < cat.items.length; i++) {
      var item = cat.items[i];
      if (!item.enabled) continue;

      var monthly = getMonthlyEquiv(item.cost, item.freq);
      var yearly = getYearlyEquiv(item.cost, item.freq);

      catMonthly += monthly;

      if (item.freq === 'monthly') {
        totalMonthly += item.cost;
      } else if (item.freq === 'yearly') {
        totalMonthly += item.cost / 12;
      }

      if (item.freq === 'one-time') {
        totalOneTime += item.cost;
      }
    }

    catTotals[cat.id] = catMonthly;

    /* Update category total */
    var catTotalEl = document.getElementById('catTotal-' + cat.id);
    if (catTotalEl) {
      catTotalEl.textContent = fmt(Math.round(catMonthly)) + '/mo';
    }
  }

  /* Calculate yearly = (monthly * 12) + yearly items + one-time */
  totalYearly = 0;
  for (var c2 = 0; c2 < categories.length; c2++) {
    for (var i2 = 0; i2 < categories[c2].items.length; i2++) {
      var it = categories[c2].items[i2];
      if (!it.enabled) continue;
      totalYearly += getYearlyEquiv(it.cost, it.freq);
    }
  }

  /* Update summary */
  document.getElementById('sMonthlyCost').textContent = fmt(Math.round(totalMonthly));
  document.getElementById('sYearlyCost').textContent = fmt(Math.round(totalYearly));
  document.getElementById('sOneTimeCost').textContent = fmt(Math.round(totalOneTime));

  /* Update chart */
  renderBarChart(catTotals);

  /* Update breakdown table */
  renderBreakdownTable();

  incrementUsage();
}

/* ===== Bar Chart ===== */
function renderBarChart(catTotals) {
  var chartEl = document.getElementById('barChartMonthly');
  var legendEl = document.getElementById('barLegend');
  var maxVal = 0;

  for (var c = 0; c < categories.length; c++) {
    var val = catTotals[categories[c].id] || 0;
    if (val > maxVal) maxVal = val;
  }
  if (maxVal === 0) maxVal = 1;

  var html = '';
  for (var c2 = 0; c2 < categories.length; c2++) {
    var cat = categories[c2];
    var amount = catTotals[cat.id] || 0;
    var pct = (amount / maxVal) * 100;
    html += '<div class="bar-row">';
    html += '<div class="bar-label">' + cat.name.split(' ')[0] + '</div>';
    html += '<div class="bar-track"><div class="bar-fill" style="width:' + Math.max(pct, 0.5) + '%;background:' + cat.color + '">';
    if (pct > 20) html += '<span>' + Math.round(pct) + '%</span>';
    html += '</div></div>';
    html += '<div class="bar-amount">' + fmt(Math.round(amount)) + '/mo</div>';
    html += '</div>';
  }
  chartEl.innerHTML = html;

  var legendHtml = '';
  for (var c3 = 0; c3 < categories.length; c3++) {
    legendHtml += '<div class="legend-item"><div class="legend-dot" style="background:' + categories[c3].color + '"></div>' + categories[c3].name + '</div>';
  }
  legendEl.innerHTML = legendHtml;
}

/* ===== Breakdown Table ===== */
function renderBreakdownTable() {
  var tbody = document.getElementById('breakdownBody');
  var html = '';

  for (var c = 0; c < categories.length; c++) {
    var cat = categories[c];
    var catMonthlyTotal = 0;
    var catYearlyTotal = 0;
    var itemRows = '';

    for (var i = 0; i < cat.items.length; i++) {
      var item = cat.items[i];
      if (!item.enabled) continue;

      var monthly = getMonthlyEquiv(item.cost, item.freq);
      var yearly = getYearlyEquiv(item.cost, item.freq);
      catMonthlyTotal += monthly;
      catYearlyTotal += yearly;

      var freqLabel = item.freq === 'monthly' ? 'Monthly' : item.freq === 'yearly' ? 'Yearly' : 'One-time';

      itemRows += '<tr>';
      itemRows += '<td style="padding-left:28px">' + item.name + '</td>';
      itemRows += '<td>' + fmtFull(item.cost) + '</td>';
      itemRows += '<td>' + freqLabel + '</td>';
      itemRows += '<td>' + (item.freq === 'one-time' ? '\u2014' : fmtFull(monthly)) + '</td>';
      itemRows += '<td>' + fmtFull(yearly) + '</td>';
      itemRows += '</tr>';
    }

    /* Category header row */
    html += '<tr class="cat-row">';
    html += '<td>' + cat.icon + ' ' + cat.name + '</td>';
    html += '<td></td><td></td>';
    html += '<td>' + fmtFull(catMonthlyTotal) + '</td>';
    html += '<td>' + fmtFull(catYearlyTotal) + '</td>';
    html += '</tr>';
    html += itemRows;
  }

  tbody.innerHTML = html;
}

/* ===== Copy as Text ===== */
function copyAsText() {
  var lines = [];
  lines.push('STARTUP COST ESTIMATE');
  lines.push('=====================');
  lines.push('Generated: ' + new Date().toLocaleDateString());
  lines.push('');

  var grandMonthly = 0, grandYearly = 0, grandOneTime = 0;

  for (var c = 0; c < categories.length; c++) {
    var cat = categories[c];
    lines.push(cat.name.toUpperCase());
    lines.push('-'.repeat(cat.name.length));

    for (var i = 0; i < cat.items.length; i++) {
      var item = cat.items[i];
      if (!item.enabled) continue;

      var freqLabel = item.freq === 'monthly' ? '/mo' : item.freq === 'yearly' ? '/yr' : '(one-time)';
      lines.push('  ' + item.name + ': $' + item.cost.toFixed(2) + ' ' + freqLabel);

      if (item.freq === 'monthly') grandMonthly += item.cost;
      else if (item.freq === 'yearly') grandMonthly += item.cost / 12;
      if (item.freq === 'one-time') grandOneTime += item.cost;

      grandYearly += getYearlyEquiv(item.cost, item.freq);
    }
    lines.push('');
  }

  lines.push('TOTALS');
  lines.push('------');
  lines.push('Monthly Burn Rate: ' + fmtFull(grandMonthly));
  lines.push('Year 1 Total Cost: ' + fmtFull(grandYearly));
  lines.push('One-Time Costs: ' + fmtFull(grandOneTime));
  lines.push('');
  lines.push('Generated at spunkart.com/startup-costs');

  navigator.clipboard.writeText(lines.join('\n')).then(function() {
    var btn = document.getElementById('btnCopyText');
    btn.textContent = 'Copied!';
    btn.classList.add('copied');
    setTimeout(function() { btn.textContent = 'Copy as Text'; btn.classList.remove('copied'); }, 2000);
  });
}

/* ===== Export as PDF ===== */
function exportPDF() {
  /* Build a printable HTML page and use the browser's print-to-PDF */
  var w = window.open('', '_blank');
  var html = '<!DOCTYPE html><html><head><title>Startup Cost Estimate</title>';
  html += '<style>';
  html += 'body{font-family:system-ui,sans-serif;padding:40px;max-width:800px;margin:0 auto;color:#222;line-height:1.6}';
  html += 'h1{font-size:1.5rem;margin-bottom:4px}';
  html += '.date{color:#888;font-size:0.85rem;margin-bottom:24px}';
  html += '.summary{display:flex;gap:20px;margin-bottom:30px;flex-wrap:wrap}';
  html += '.summary-box{background:#f5f5f5;border-radius:8px;padding:16px 24px;text-align:center;flex:1;min-width:150px}';
  html += '.summary-box .val{font-size:1.3rem;font-weight:800;color:#ff5f1f}.summary-box .lbl{font-size:0.75rem;color:#888;text-transform:uppercase}';
  html += 'h2{font-size:1.1rem;margin:24px 0 8px;border-bottom:1px solid #ddd;padding-bottom:6px}';
  html += 'table{width:100%;border-collapse:collapse;font-size:0.85rem;margin-bottom:20px}';
  html += 'th{text-align:left;padding:6px 8px;border-bottom:2px solid #ddd;font-size:0.72rem;text-transform:uppercase;color:#888}';
  html += 'td{padding:5px 8px;border-bottom:1px solid #eee}';
  html += 'th:not(:first-child),td:not(:first-child){text-align:right}';
  html += '.footer{margin-top:30px;padding-top:12px;border-top:1px solid #ddd;font-size:0.75rem;color:#aaa;text-align:center}';
  html += '@media print{body{padding:20px}}';
  html += '</style></head><body>';

  html += '<h1>Startup Cost Estimate</h1>';
  html += '<div class="date">Generated ' + new Date().toLocaleDateString() + '</div>';

  var grandMonthly = 0, grandYearly = 0, grandOneTime = 0;
  for (var c = 0; c < categories.length; c++) {
    for (var i = 0; i < categories[c].items.length; i++) {
      var it = categories[c].items[i];
      if (!it.enabled) continue;
      if (it.freq === 'monthly') grandMonthly += it.cost;
      else if (it.freq === 'yearly') grandMonthly += it.cost / 12;
      if (it.freq === 'one-time') grandOneTime += it.cost;
      grandYearly += getYearlyEquiv(it.cost, it.freq);
    }
  }

  html += '<div class="summary">';
  html += '<div class="summary-box"><div class="val">' + fmtFull(grandMonthly) + '</div><div class="lbl">Monthly Burn</div></div>';
  html += '<div class="summary-box"><div class="val">' + fmtFull(grandYearly) + '</div><div class="lbl">Year 1 Total</div></div>';
  html += '<div class="summary-box"><div class="val">' + fmtFull(grandOneTime) + '</div><div class="lbl">One-Time</div></div>';
  html += '</div>';

  for (var c2 = 0; c2 < categories.length; c2++) {
    var cat = categories[c2];
    html += '<h2>' + cat.icon + ' ' + cat.name + '</h2>';
    html += '<table><thead><tr><th>Item</th><th>Cost</th><th>Frequency</th><th>Monthly</th><th>Yearly</th></tr></thead><tbody>';

    for (var i2 = 0; i2 < cat.items.length; i2++) {
      var item = cat.items[i2];
      if (!item.enabled) continue;
      var monthly = getMonthlyEquiv(item.cost, item.freq);
      var yearly = getYearlyEquiv(item.cost, item.freq);
      var freqLabel = item.freq === 'monthly' ? 'Monthly' : item.freq === 'yearly' ? 'Yearly' : 'One-time';
      html += '<tr><td>' + item.name + '</td><td>' + fmtFull(item.cost) + '</td><td>' + freqLabel + '</td>';
      html += '<td>' + (item.freq === 'one-time' ? '\u2014' : fmtFull(monthly)) + '</td><td>' + fmtFull(yearly) + '</td></tr>';
    }

    html += '</tbody></table>';
  }

  html += '<div class="footer">Generated at spunkart.com/startup-costs</div>';
  html += '</body></html>';

  w.document.write(html);
  w.document.close();
  setTimeout(function() { w.print(); }, 500);
}

/* ===== Init ===== */
renderCategories();
recalculate();
</script>

<!-- Email collection -->
<script>
(function(){
  var ek = 'spunkart_email_collected_startupcost', uk = USAGE_KEY;
  if (localStorage.getItem(ek)) return;
  var check = setInterval(function(){
    if (parseInt(localStorage.getItem(uk) || '0') >= 2) {
      clearInterval(check);
      var bar = document.createElement('div');
      bar.innerHTML = '<div style="position:fixed;bottom:0;left:0;right:0;background:#141414;border-top:2px solid #ff5f1f;padding:16px 20px;z-index:9999;display:flex;align-items:center;justify-content:center;gap:12px;flex-wrap:wrap"><span style="color:#e8e8e8;font-size:.95rem">Get free tools & updates &mdash; </span><iframe src="https://embeds.beehiiv.com/6831d05b-f121-4e0d-951b-16f88ddd9ec3?slim=true" data-test-id="beehiiv-embed" height="52" frameborder="0" scrolling="no" style="border-radius:8px;max-width:320px"></iframe><button onclick="this.parentElement.remove();localStorage.setItem(\'spunkart_email_collected_startupcost\',\'1\')" style="background:none;border:none;color:#666;cursor:pointer;font-size:1.2rem">\u2715</button></div>';
      document.body.appendChild(bar);
    }
  }, 1000);
})();
</script>

<!-- Code protection -->
<script>
document.addEventListener('contextmenu',function(e){e.preventDefault()});
document.addEventListener('keydown',function(e){if(e.key==='F12'||(e.ctrlKey&&e.shiftKey&&(e.key==='I'||e.key==='J'||e.key==='C'))||(e.ctrlKey&&e.key==='u'))e.preventDefault()});
console.log('%c\u26A0 SpunkArt Protected','font-size:20px;color:#ff5f1f;font-weight:bold');
console.log('%cUnauthorized copying or redistribution of this tool is prohibited.','font-size:12px;color:#e8e8e8');
</script>

<!-- Clarity -->
<script type="text/javascript">(function(c,l,a,r,i,t,y){c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y)})(window,document,"clarity","script","pn0x1z2y3w");</script>
</body>
</html>